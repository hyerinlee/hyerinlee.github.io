---
title: "[Unity Graphics Study] 2. Post Processing"
date: 2021-09-12 19:40:00 +0900
categories: [Graphics, GM5기_스터디_2]
tags: [filter, postprocessing, study, unity]
---

> 스터디에서 배운 내용이지만, 아래 글은 개인적으로 복습·정리한 것이므로 틀린 부분이 있을 수 있습니다.  
틀린 부분이 있다면 지적해주시면 감사하겠습니다🙏  

<br>

4주차에는 렌더링 완료된 화면에 추가로 시각적 효과를 주기 위해 카메라의 이미지 버퍼에 적용하는 후처리 작업에 대해 간단히 배워보았다.  

- **유니티의 포스트 프로세싱 써보기**: 비네팅, 그레인, 블룸 적용
- [**카메라 필터 팩**](https://assetstore.unity.com/packages/vfx/shaders/fullscreen-camera-effects/camera-filter-pack-18433?locale=ko-KR) (종류도 많고 편리하나 아직 구입하지 않은 유료 에셋이므로 설명만 들음. 내용 생략)
- **포토샵으로 필터 텍스처 제작해보기**

---
<br>

## **시작하기 전에**

### 영상 제작 단계
- **프리 프로덕션** - 촬영을 준비하는 단계(배우, 촬영팀 섭외, 시나리오 등)
- **프로덕션** - 촬영을 진행하는 단계
- **포스트 프로덕션** - 영상을 묶어 극장에 배급하는 단계

### 게임아트에서 포스트 프로덕션이란?
모든 아트 요소들이 확정되고 난 상황에서 세팅해줘야 하는 것들  

- 라이팅(미리 설정하면 왜곡이 생김)
- UI
- 포스트 프로세싱

<br>

## **유니티 포스트 프로세싱**
언리얼은 포스트 프로세싱이 기본으로 적용되어 있으나, 유니티는 별도로 설정해줘야 작동한다. (그래서 아마 간단한 씬에서조차도 언리얼과 유니티의 그래픽 퀄리티 차이가 느껴졌을 것이다)  

포스트 프로세싱 사용 시 주의할 점은, 블룸 같은 효과는 자칫 이펙트에 왜곡을 줄 수 있으므로 이펙트 제작 전 즉 프로젝트 초기에 미리 세팅해주는 것이 좋다.  

`URP` 및 `HDRP`에는 자체 포스트 프로세싱 솔루션이 내장되어 있지만 스터디에서는 `빌트인 렌더 파이프라인`을 사용했으므로 패키지 매니저에서 'Post Processing(v2)' 패키지를 다운받아 주었다.  

### 초기 세팅(패키지 임포트 후)

① 프로젝트 폴더 -> `Post-processing Profile` 생성  
② 씬에 포스트 프로세스 프로파일들을 담기 위한 빈 오브젝트(post stack)를 생성 -> `Post-process Volume` 컴포넌트 추가 -> ①에서 만든 프로파일을 적용  
③ 레이어 추가(PostProcessing) -> post stack의 레이어를 이 레이어로 설정  
④ `Is Global` 체크  
⑤ 포스트 프로세싱을 적용하고자 하는 카메라에 `Post-process Layer` 컴포넌트 추가 -> 컴포넌트에서 Layer를 PostProcessing으로 지정  

이후 ①에서 만든 프로파일을 선택해 'add effect'를 눌러 각종 이펙트를 적용하면 된다.  

### 적용 예시 1: 비네팅&그레인

![적용 전](/assets/img/post_images/20210912001.jpg)
![적용 후](/assets/img/post_images/20210912002.png)

[(이미지 출처)](https://pixabay.com/photos/architecture-empty-hallway-indoors-1867724/)  

### 적용 예시 2: 블룸

![적용 전](/assets/img/post_images/20210912003.png)
![적용 후](/assets/img/post_images/20210912004.png)

<br>

## 포토샵으로 필터 텍스처 제작하기
최적화 문제로 프로젝트에서 고급 필터(?)를 쓰지 못할 경우, 인게임과 비슷한 무드나 컬러를 가진 이미지로 직접 필터 텍스처를 만들어 씌우면 적은 공수로 꽤 괜찮은 효과를 낼 수 있다.  

(이 실습은 그럴듯한 예시를 만들지 못해서 사진은 생략함ㅠ_ㅠ)  

### 제작 예시: 비네팅 필터
① 프로젝트 해상도와 같은 비율의 이미지를 생성  
② 타원형 선택 도구로 원하는 크기만큼 선택 -> 선택 반전  
③ 선택 영역을 페인트로 채우고 필터용 이미지를 선택 영역에 클리핑  
④ 가우시안 흐리기 적용  

이후 프로젝트에서 `Raw Image`를 생성해 위에서 만든 텍스처를 적용해주면 된다.  
